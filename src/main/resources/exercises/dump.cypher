MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the number of movies', e.rank = 1, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAWNvdW70CfzIAQ==' ON MATCH SET e.instructions = 'Find the number of movies', e.rank = 1, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAWNvdW70CfzIAQ=='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the number of action movies', e.rank = 2, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAWNvdW70CbQm' ON MATCH SET e.instructions = 'Find the number of action movies', e.rank = 2, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAWNvdW70CbQm'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the titles of the movies in which Vincent Cassel plays', e.rank = 3, e.result = 'ARcBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFMYXNjYXLzAQABAQMEAwFNZXNyaW5lOiBQdWJsaWMgRW5lbXkgTm8uILEBAAEBAwQDAVNoZWl0Ye4BAAEBAwQDAU1lc3JpbmU6IEtpbGxlciBJbnN0aW5j9AEAAQEDBAMBQWdlbnRzIHNlY3JldPMBAAEBAwQDAUwnYXBwYXJ0ZW1lbvQBAAEBAwQDAUd1ZXN0IEhvdXNlIFBhcmFkaXPvAQABAQMEAwFEb2Jlcm1hbu4BAAEBAwQDAUJsdWViZXJy+QEAAQEDBAMBVGhlIE1lc3NlbmdlcjogVGhlIFN0b3J5IG9mIEpvYW4gb2YgQXLjAQABAQMEAwFEZXJhaWxl5AEAAQEDBAMBQnJvdGhlcmhvb2Qgb2YgdGhlIFdvbOYBAAEBAwQDAY9TdXIgbWVzIGzDqHZyZXMBAAEBAwQDAUhvdCBDaG9jb2xhdOUBAAEBAwQDAUVsaXphYmV06AEAAQEDBAMBVGhlIENyaW1zb24gUml2ZXLzAQABAQMEAwFFYXN0ZXJuIFByb21pc2XzAQABAQMEAwFCaXJ0aGRheSBHaXLsAQABAQMEAwFJcnJldmVyc2libOUBAAEBAwQDAVNocmXrAQABAQMEAwFUaGUgSGF05QEAAQEDBAMBT2NlYW4ncyBUaGlydGVl7gEAAQEDBAMBT2NlYW4ncyBUd2VsduU=' ON MATCH SET e.instructions = 'Find the titles of the movies in which Vincent Cassel plays', e.rank = 3, e.result = 'ARcBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFMYXNjYXLzAQABAQMEAwFNZXNyaW5lOiBQdWJsaWMgRW5lbXkgTm8uILEBAAEBAwQDAVNoZWl0Ye4BAAEBAwQDAU1lc3JpbmU6IEtpbGxlciBJbnN0aW5j9AEAAQEDBAMBQWdlbnRzIHNlY3JldPMBAAEBAwQDAUwnYXBwYXJ0ZW1lbvQBAAEBAwQDAUd1ZXN0IEhvdXNlIFBhcmFkaXPvAQABAQMEAwFEb2Jlcm1hbu4BAAEBAwQDAUJsdWViZXJy+QEAAQEDBAMBVGhlIE1lc3NlbmdlcjogVGhlIFN0b3J5IG9mIEpvYW4gb2YgQXLjAQABAQMEAwFEZXJhaWxl5AEAAQEDBAMBQnJvdGhlcmhvb2Qgb2YgdGhlIFdvbOYBAAEBAwQDAY9TdXIgbWVzIGzDqHZyZXMBAAEBAwQDAUhvdCBDaG9jb2xhdOUBAAEBAwQDAUVsaXphYmV06AEAAQEDBAMBVGhlIENyaW1zb24gUml2ZXLzAQABAQMEAwFFYXN0ZXJuIFByb21pc2XzAQABAQMEAwFCaXJ0aGRheSBHaXLsAQABAQMEAwFJcnJldmVyc2libOUBAAEBAwQDAVNocmXrAQABAQMEAwFUaGUgSGF05QEAAQEDBAMBT2NlYW4ncyBUaGlydGVl7gEAAQEDBAMBT2NlYW4ncyBUd2VsduU='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the titles of the movies directed by James Cameron', e.rank = 4, e.result = 'AQYBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFUaGUgQWJ5c/MBAAEBAwQDAUFsaWVu8wEAAQEDBAMBVGl0YW5p4wEAAQEDBAMBVGVybWluYXRvciAyOiBKdWRnbWVudCBEYfkBAAEBAwQDAVRoZSBUZXJtaW5hdG/yAQABAQMEAwFBdmF0YfI=' ON MATCH SET e.instructions = 'Find the titles of the movies directed by James Cameron', e.rank = 4, e.result = 'AQYBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFUaGUgQWJ5c/MBAAEBAwQDAUFsaWVu8wEAAQEDBAMBVGl0YW5p4wEAAQEDBAMBVGVybWluYXRvciAyOiBKdWRnbWVudCBEYfkBAAEBAwQDAVRoZSBUZXJtaW5hdG/yAQABAQMEAwFBdmF0YfI='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the titles of the movies directed by James Cameron with Paramount Pictures studio', e.rank = 5, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFUaXRhbmnj' ON MATCH SET e.instructions = 'Find the titles of the movies directed by James Cameron with Paramount Pictures studio', e.rank = 5, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFUaXRhbmnj'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the names of the actors who played in the movies directed by James Cameron with Paramount Pictures studio', e.rank = 6, e.result = 'AR0BAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAUlvYW4gR3J1ZmZ1ZOQBAAEBAwQDAUpvbmF0aGFuIFBoaWxsaXDzAQABAQMEAwFFZHdhcmQgRmxldGNoZfIBAAEBAwQDAVNjb3R0IEcuIEFuZGVyc2/uAQABAQMEAwFMZXcgUGFsdGXyAQABAQMEAwFFcmljIEJyYWVkZe4BAAEBAwQDAUJlcm5hcmQgRm/4AQABAQMEAwFFd2FuIFN0ZXdhcvQBAAEBAwQDAU1hcnRpbiBFYXP0AQABAQMEAwFHcmVnb3J5IENvb2vlAQABAQMEAwFBbGV4YW5kcmVhIE93ZW7zAQABAQMEAwFTZXRoIEFka2lu8wEAAQEDBAMBQmlsbCBQYXh0b+4BAAEBAwQDAUdsb3JpYSBTdHVhcvQBAAEBAwQDAURhdmlkIFdhcm5l8gEAAQEDBAMBQmVybmFyZCBIaWzsAQABAQMEAwFGcmFuY2VzIEZpc2hl8gEAAQEDBAMBTGVvbmFyZG8gRGlDYXByae8BAAEBAwQDAUthdGh5IEJhdGXzAQABAQMEAwFCaWxseSBaYW7lAQABAQMEAwFEYW5ueSBOdWNj6QEAAQEDBAMBTmljaG9sYXMgQ2FzY29u5QEAAQEDBAMBTWljaGFlbCBFbnNpZ+4BAAEBAwQDAUphc29uIEJhcnL5AQABAQMEAwFKb25hdGhhbiBIeWTlAQABAQMEAwFWaWN0b3IgR2FyYmXyAQABAQMEAwFMZXdpcyBBYmVybmF0aPkBAAEBAwQDAVN1enkgQW1p8wEAAQEDBAMBS2F0ZSBXaW5zbGX0' ON MATCH SET e.instructions = 'Find the names of the actors who played in the movies directed by James Cameron with Paramount Pictures studio', e.rank = 6, e.result = 'AR0BAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAUlvYW4gR3J1ZmZ1ZOQBAAEBAwQDAUpvbmF0aGFuIFBoaWxsaXDzAQABAQMEAwFFZHdhcmQgRmxldGNoZfIBAAEBAwQDAVNjb3R0IEcuIEFuZGVyc2/uAQABAQMEAwFMZXcgUGFsdGXyAQABAQMEAwFFcmljIEJyYWVkZe4BAAEBAwQDAUJlcm5hcmQgRm/4AQABAQMEAwFFd2FuIFN0ZXdhcvQBAAEBAwQDAU1hcnRpbiBFYXP0AQABAQMEAwFHcmVnb3J5IENvb2vlAQABAQMEAwFBbGV4YW5kcmVhIE93ZW7zAQABAQMEAwFTZXRoIEFka2lu8wEAAQEDBAMBQmlsbCBQYXh0b+4BAAEBAwQDAUdsb3JpYSBTdHVhcvQBAAEBAwQDAURhdmlkIFdhcm5l8gEAAQEDBAMBQmVybmFyZCBIaWzsAQABAQMEAwFGcmFuY2VzIEZpc2hl8gEAAQEDBAMBTGVvbmFyZG8gRGlDYXByae8BAAEBAwQDAUthdGh5IEJhdGXzAQABAQMEAwFCaWxseSBaYW7lAQABAQMEAwFEYW5ueSBOdWNj6QEAAQEDBAMBTmljaG9sYXMgQ2FzY29u5QEAAQEDBAMBTWljaGFlbCBFbnNpZ+4BAAEBAwQDAUphc29uIEJhcnL5AQABAQMEAwFKb25hdGhhbiBIeWTlAQABAQMEAwFWaWN0b3IgR2FyYmXyAQABAQMEAwFMZXdpcyBBYmVybmF0aPkBAAEBAwQDAVN1enkgQW1p8wEAAQEDBAMBS2F0ZSBXaW5zbGX0'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the name of the actor who played both in \'Titanic\' and \'The Lord of the Rings: The Return of the King\'', e.rank = 7, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAUJlcm5hcmQgSGls7A==' ON MATCH SET e.instructions = 'Find the name of the actor who played both in \'Titanic\' and \'The Lord of the Rings: The Return of the King\'', e.rank = 7, e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAUJlcm5hcmQgSGls7A=='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the titles of the movies rated with 5 stars as well the names of the ones who rated it so', e.rank = 8, e.result = 'AQ8BAGphdmEudXRpbC5IYXNoTWHwAQIDAW5hbeUDAUVtaWwgRWlmcmXtAwF0aXRs5QMBVGhlIE1hdHJpeCBSZWxvYWRl5AEAAQIDBAMBRW1pbCBFaWZyZe0DBgMBVGhlIE1hdHJp+AEAAQIDBAMBUmVuYXTvAwYDAVRoZSBNYXRyaXggUmV2b2x1dGlvbvMBAAECAwQDAVNldW5nYmVv7QMGAwFUaGUgTWF0cmn4AQABAgMEAwFNYWhlc+gDBgMBRm9ycmVzdCBHdW3wAQABAgMEAwFUaW1vdGh5IEJlcmtlbGX5AwYDAUFwb2NhbHlwc2UgTm/3AQABAgMEAwFQYXRyaWNrIER1cnVzYfUDBgMBR29uZSB3aXRoIHRoZSBXaW7kAQABAgMEAwFTYW5ncmVh7AMGAwFUZXJtaW5hdG9yIFNhbHZhdGlv7gEAAQIDBAMBU2FuZ3JlYewDBgMBRm9ycmVzdCBHdW3wAQABAgMEAwFTYW5ncmVh7AMGAwFUaGUgTWF0cmn4AQABAgMEAwFkaGFybesDBgMBVGhlIE1hdHJp+AEAAQIDBAMBcHJlZfQDBgMBVGhlIEl0YWxpYW4gSm/iAQABAgMEAwFWaXRv8gMGAwFCYWNrIHRvIHRoZSBGdXR1cuUBAAECAwQDAUNhdG/uAwYDAVRoZSBTaW1wc29ucyBNb3Zp5QEAAQIDBAMBVGhvbWHzAwYDAVRoZSBNYXRyafg=' ON MATCH SET e.instructions = 'Find the titles of the movies rated with 5 stars as well the names of the ones who rated it so', e.rank = 8, e.result = 'AQ8BAGphdmEudXRpbC5IYXNoTWHwAQIDAW5hbeUDAUVtaWwgRWlmcmXtAwF0aXRs5QMBVGhlIE1hdHJpeCBSZWxvYWRl5AEAAQIDBAMBRW1pbCBFaWZyZe0DBgMBVGhlIE1hdHJp+AEAAQIDBAMBUmVuYXTvAwYDAVRoZSBNYXRyaXggUmV2b2x1dGlvbvMBAAECAwQDAVNldW5nYmVv7QMGAwFUaGUgTWF0cmn4AQABAgMEAwFNYWhlc+gDBgMBRm9ycmVzdCBHdW3wAQABAgMEAwFUaW1vdGh5IEJlcmtlbGX5AwYDAUFwb2NhbHlwc2UgTm/3AQABAgMEAwFQYXRyaWNrIER1cnVzYfUDBgMBR29uZSB3aXRoIHRoZSBXaW7kAQABAgMEAwFTYW5ncmVh7AMGAwFUZXJtaW5hdG9yIFNhbHZhdGlv7gEAAQIDBAMBU2FuZ3JlYewDBgMBRm9ycmVzdCBHdW3wAQABAgMEAwFTYW5ncmVh7AMGAwFUaGUgTWF0cmn4AQABAgMEAwFkaGFybesDBgMBVGhlIE1hdHJp+AEAAQIDBAMBcHJlZfQDBgMBVGhlIEl0YWxpYW4gSm/iAQABAgMEAwFWaXRv8gMGAwFCYWNrIHRvIHRoZSBGdXR1cuUBAAECAwQDAUNhdG/uAwYDAVRoZSBTaW1wc29ucyBNb3Zp5QEAAQIDBAMBVGhvbWHzAwYDAVRoZSBNYXRyafg='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the names of the directors who directed movies which name contains \'titanic\'\nCypher protip: there is no LIKE keyword in Cypher, the =~ operator can be used instead, like `string =~ \'my-regex\'`', e.rank = 9, e.result = 'AQUBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAVJvYmVydCBMaWViZXJtYe4BAAEBAwQDAUpvaG4gUGF1bCBGZWRlbOUBAAEBAwQDAVdlcm5lciBLbGluZ2xl8gEAAQEDBAMBSmFtZXMgQ2FtZXJv7gEAAQEDBAMBSmVhbiBOZWd1bGVzY+8=' ON MATCH SET e.instructions = 'Find the names of the directors who directed movies which name contains \'titanic\'\nCypher protip: there is no LIKE keyword in Cypher, the =~ operator can be used instead, like `string =~ \'my-regex\'`', e.rank = 9, e.result = 'AQUBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAVJvYmVydCBMaWViZXJtYe4BAAEBAwQDAUpvaG4gUGF1bCBGZWRlbOUBAAEBAwQDAVdlcm5lciBLbGluZ2xl8gEAAQEDBAMBSmFtZXMgQ2FtZXJv7gEAAQEDBAMBSmVhbiBOZWd1bGVzY+8='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the titles of the movies which name starts with \'for\' (in a case-insensitive way), optionally with their ratings (or null)', e.rank = 10, e.result = 'ASEBAGphdmEudXRpbC5IYXNoTWHwAQIDAXN0YXLzAAMBdGl0bOUDAUZvcnQgU2FnYW5u5QEAAQIDBAADBQMBRm9yYmlkZGVuIEdhbWXzAQABAgMEAAMFAwFGb3IgVGhvc2Ugd2hvIGh1bnQgdGhlIFdvdW5kZWQgZG937gEAAQIDBAADBQMBRm9yIExvdmUgb3IgTW9uZfkBAAECAwQAAwUDAUZvcmdldHRpbmcgU2FyYWggTWFyc2hhbOwBAAECAwQAAwUDAUZvcmJpZGRlbiBXYXJyaW/yAQABAgMEAAMFAwFGb3JldmVyIFlvdW7nAQABAgMEAAMFAwFGb3IgUmljaGVyIG9yIFBvb3Jl8gEAAQIDBAADBQMBRm9yZ2V0IFBhcmnzAQABAgMEAAMFAwFGb3IgTG92ZSBvZiB0aGUgR2Ft5QEAAQIDBAADBQMBRm9ydHJlc3MgsgEAAQIDBAADBQMBRm9ydHJlc/MBAAECAwQAAwUDAUZvciBUaGUgQmlyZPMBAAECAwQAAwUDAUZvciBZb3VyIENvbnNpZGVyYXRpb+4BAAECAwQAAwUDAUZvcnR5IEd1bvMBAAECAwQAAwUDAUZvciBSaWdodCBPciBXcm9u5wEAAQIDBAADBQMBRm9yIHRoZSBCaWJsZSBUZWxscyBNZSBT7wEAAQIDBAADBQMBRm9yYmlkZGVuIFpvbuUBAAECAwQAAwUDAUZvcmJpZGRl7gEAAQIDBAADBQMBRm9yY2UgMTAgZnJvbSBOYXZhcm9u5QEAAQIDBAADBQMBRm9yZXZlciBMdWz1AQABAgMEAAMFAwFGb3JldmVyIHRoZSBNb21lbvQBAAECAwQAAwUDAUZvcmV2ZXIgTWlu5QEAAQIDBAADBQMBRm9yZ2l2aW5nIHRoZSBGcmFua2xpbvMBAAECAwQAAwUDAUZvcmVpZ24gRXhjaGFuZ+UBAAECAwQAAwUDAUZvcmdpdmluZyBEci4gTWVuZ2Vs5QEAAQIDBAkKAwUDAUZvcnJlc3QgR3Vt8AEAAQIDBAkKAwUDAUZvcnJlc3QgR3Vt8AEAAQIDBAADBQMBRm9yIFlvdXIgRXllcyBPbmz5AQABAgMEAAMFAwFGb3JiaWRkZW4gUGxhbmX0AQABAgMEAAMFAwFGb3IgYSBGZXcgRG9sbGFycyBNb3LlAQABAgMEAAMFAwFGb3JjZXMgb2YgTmF0dXLlAQABAgMEAAMFAwFGb3JtdWxhIDWx' ON MATCH SET e.instructions = 'Find the titles of the movies which name starts with \'for\' (in a case-insensitive way), optionally with their ratings (or null)', e.rank = 10, e.result = 'ASEBAGphdmEudXRpbC5IYXNoTWHwAQIDAXN0YXLzAAMBdGl0bOUDAUZvcnQgU2FnYW5u5QEAAQIDBAADBQMBRm9yYmlkZGVuIEdhbWXzAQABAgMEAAMFAwFGb3IgVGhvc2Ugd2hvIGh1bnQgdGhlIFdvdW5kZWQgZG937gEAAQIDBAADBQMBRm9yIExvdmUgb3IgTW9uZfkBAAECAwQAAwUDAUZvcmdldHRpbmcgU2FyYWggTWFyc2hhbOwBAAECAwQAAwUDAUZvcmJpZGRlbiBXYXJyaW/yAQABAgMEAAMFAwFGb3JldmVyIFlvdW7nAQABAgMEAAMFAwFGb3IgUmljaGVyIG9yIFBvb3Jl8gEAAQIDBAADBQMBRm9yZ2V0IFBhcmnzAQABAgMEAAMFAwFGb3IgTG92ZSBvZiB0aGUgR2Ft5QEAAQIDBAADBQMBRm9ydHJlc3MgsgEAAQIDBAADBQMBRm9ydHJlc/MBAAECAwQAAwUDAUZvciBUaGUgQmlyZPMBAAECAwQAAwUDAUZvciBZb3VyIENvbnNpZGVyYXRpb+4BAAECAwQAAwUDAUZvcnR5IEd1bvMBAAECAwQAAwUDAUZvciBSaWdodCBPciBXcm9u5wEAAQIDBAADBQMBRm9yIHRoZSBCaWJsZSBUZWxscyBNZSBT7wEAAQIDBAADBQMBRm9yYmlkZGVuIFpvbuUBAAECAwQAAwUDAUZvcmJpZGRl7gEAAQIDBAADBQMBRm9yY2UgMTAgZnJvbSBOYXZhcm9u5QEAAQIDBAADBQMBRm9yZXZlciBMdWz1AQABAgMEAAMFAwFGb3JldmVyIHRoZSBNb21lbvQBAAECAwQAAwUDAUZvcmV2ZXIgTWlu5QEAAQIDBAADBQMBRm9yZ2l2aW5nIHRoZSBGcmFua2xpbvMBAAECAwQAAwUDAUZvcmVpZ24gRXhjaGFuZ+UBAAECAwQAAwUDAUZvcmdpdmluZyBEci4gTWVuZ2Vs5QEAAQIDBAkKAwUDAUZvcnJlc3QgR3Vt8AEAAQIDBAkKAwUDAUZvcnJlc3QgR3Vt8AEAAQIDBAADBQMBRm9yIFlvdXIgRXllcyBPbmz5AQABAgMEAAMFAwFGb3JiaWRkZW4gUGxhbmX0AQABAgMEAAMFAwFGb3IgYSBGZXcgRG9sbGFycyBNb3LlAQABAgMEAAMFAwFGb3JjZXMgb2YgTmF0dXLlAQABAgMEAAMFAwFGb3JtdWxhIDWx'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Aggregation time!\nFind the titles of the movies, in ascending alphabetical order, that received at least 2 ratings.\nCypher pro-tip: COLLECT & WITH are your friends', e.rank = 11, e.result = 'AQIBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFGb3JyZXN0IEd1bfABAAEBAwQDAVRoZSBNYXRyafg=' ON MATCH SET e.instructions = 'Aggregation time!\nFind the titles of the movies, in ascending alphabetical order, that received at least 2 ratings.\nCypher pro-tip: COLLECT & WITH are your friends', e.rank = 11, e.result = 'AQIBAGphdmEudXRpbC5IYXNoTWHwAQEDAXRpdGzlAwFGb3JyZXN0IEd1bfABAAEBAwQDAVRoZSBNYXRyafg='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the names of the last two directors (friendly tip to make your life easier: only 3 directors match in total), in ascending alphabetical, who directed at least two movies with ratings.', e.rank = 12, e.result = 'AQIBAGphdmEudXRpbC5IYXNoTWHwAQEDAWQubmFt5QMBTGFuYSBXYWNob3dza+kBAAEBAwQDAVJvYmVydCBaZW1lY2tp8w==' ON MATCH SET e.instructions = 'Find the names of the last two directors (friendly tip to make your life easier: only 3 directors match in total), in ascending alphabetical, who directed at least two movies with ratings.', e.rank = 12, e.result = 'AQIBAGphdmEudXRpbC5IYXNoTWHwAQEDAWQubmFt5QMBTGFuYSBXYWNob3dza+kBAAEBAwQDAVJvYmVydCBaZW1lY2tp8w=='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Find the names of the actors included in the shortest path between the actors 50 Cent and Michael Graham Cox.\nPlease note: the result should include both of these actors.\nCypher protip: the functions SHORTESTPATH, NODES and UNWIND should be useful ;)', e.rank = 13, e.result = 'AQQBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAU1pY2hhZWwgR3JhaGFtIENv+AEAAQEDBAMBUmljaGFyZCBCcmllcvMBAAEBAwQDAVJvYmVydCBEZSBOaXLvAQABAQMEAwE1MCBDZW70' ON MATCH SET e.instructions = 'Find the names of the actors included in the shortest path between the actors 50 Cent and Michael Graham Cox.\nPlease note: the result should include both of these actors.\nCypher protip: the functions SHORTESTPATH, NODES and UNWIND should be useful ;)', e.rank = 13, e.result = 'AQQBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAU1pY2hhZWwgR3JhaGFtIENv+AEAAQEDBAMBUmljaGFyZCBCcmllcvMBAAEBAwQDAVJvYmVydCBEZSBOaXLvAQABAQMEAwE1MCBDZW70'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Let\'s write to the database now!.\nFrance Télévisions is furious: Patrick Sébastien is not referenced in the data!\nPatrick Sébastien is both a great actor and director. Let\'s add him to the graph with his name and the adequate labels.', e.rank = 14, e.validationQuery = 'MATCH (n:Actor:Director {name:\'Patrick Sébastien\'}) RETURN n.name AS name', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAZJQYXRyaWNrIFPDqWJhc3RpZW4=' ON MATCH SET e.instructions = 'Let\'s write to the database now!.\nFrance Télévisions is furious: Patrick Sébastien is not referenced in the data!\nPatrick Sébastien is both a great actor and director. Let\'s add him to the graph with his name and the adequate labels.', e.rank = 14, e.validationQuery = 'MATCH (n:Actor:Director {name:\'Patrick Sébastien\'}) RETURN n.name AS name', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAW5hbeUDAZJQYXRyaWNrIFPDqWJhc3RpZW4='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'France Télévisions is still pissed off, none of Patrick Sébastien\'s movies are referenced!\nLet\'s add him again (this time, only his director activity matters) and let\'s add his best movie as well (as well as the fact that he directed it):\nT\'aime, released in French in 1999 (only define the movie title, language and release timestamp: 922917600).', e.rank = 15, e.validationQuery = 'MATCH (director:Director {name:\'Patrick Sébastien\'})-[:DIRECTED]->(movie:Movie {title:"T\'aime", language:\'fr\', releaseDate:922917600}) RETURN director.name, movie.title, movie.language, movie.releaseDate', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQQDAW1vdmllLmxhbmd1YWflAwFm8gMBbW92aWUudGl0bOUDAVQnYWlt5QMBbW92aWUucmVsZWFzZURhdOUJwOuU8AYDAWRpcmVjdG9yLm5hbeUDAZJQYXRyaWNrIFPDqWJhc3RpZW4=' ON MATCH SET e.instructions = 'France Télévisions is still pissed off, none of Patrick Sébastien\'s movies are referenced!\nLet\'s add him again (this time, only his director activity matters) and let\'s add his best movie as well (as well as the fact that he directed it):\nT\'aime, released in French in 1999 (only define the movie title, language and release timestamp: 922917600).', e.rank = 15, e.validationQuery = 'MATCH (director:Director {name:\'Patrick Sébastien\'})-[:DIRECTED]->(movie:Movie {title:"T\'aime", language:\'fr\', releaseDate:922917600}) RETURN director.name, movie.title, movie.language, movie.releaseDate', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQQDAW1vdmllLmxhbmd1YWflAwFm8gMBbW92aWUudGl0bOUDAVQnYWlt5QMBbW92aWUucmVsZWFzZURhdOUJwOuU8AYDAWRpcmVjdG9yLm5hbeUDAZJQYXRyaWNrIFPDqWJhc3RpZW4='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'Strangely enough, the biggest Matrix fan ever and Neo4j Inc. CEO Emil Eifrem has not yet rated the movie \'The Matrix Revolutions\'.\nLet\'s fix that, let\'s make Emil rate the movie with 3 stars and the following comment: "Meh, liked the previous ones better".', e.rank = 16, e.validationQuery = 'MATCH (emil:User {name:\'Emil Eifrem\'}), (matrix:Movie {title:\'The Matrix Revolutions\'}) OPTIONAL MATCH (emil)-[r:RATED]->(matrix) RETURN r.stars AS stars, r.comment AS comment', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQIDAWNvbW1lbvQDAU1laCwgbGlrZWQgdGhlIHByZXZpb3VzIG9uZXMgYmV0dGXyAwFzdGFy8wkG' ON MATCH SET e.instructions = 'Strangely enough, the biggest Matrix fan ever and Neo4j Inc. CEO Emil Eifrem has not yet rated the movie \'The Matrix Revolutions\'.\nLet\'s fix that, let\'s make Emil rate the movie with 3 stars and the following comment: "Meh, liked the previous ones better".', e.rank = 16, e.validationQuery = 'MATCH (emil:User {name:\'Emil Eifrem\'}), (matrix:Movie {title:\'The Matrix Revolutions\'}) OPTIONAL MATCH (emil)-[r:RATED]->(matrix) RETURN r.stars AS stars, r.comment AS comment', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQIDAWNvbW1lbvQDAU1laCwgbGlrZWQgdGhlIHByZXZpb3VzIG9uZXMgYmV0dGXyAwFzdGFy8wkG'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'By the way, let\'s add Emil Eifrem profession to the graph. After, without him, no Neo4j and no workshop today!\nAdd the \'profession\' attribute with the value \'CEO\' to the relevant node.', e.rank = 17, e.validationQuery = 'MATCH (emil:User {name:\'Emil Eifrem\'}) RETURN emil.profession AS profession', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAXByb2Zlc3Npb+4DAUNFzw==' ON MATCH SET e.instructions = 'By the way, let\'s add Emil Eifrem profession to the graph. After, without him, no Neo4j and no workshop today!\nAdd the \'profession\' attribute with the value \'CEO\' to the relevant node.', e.rank = 17, e.validationQuery = 'MATCH (emil:User {name:\'Emil Eifrem\'}) RETURN emil.profession AS profession', e.result = 'AQEBAGphdmEudXRpbC5IYXNoTWHwAQEDAXByb2Zlc3Npb+4DAUNFzw=='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'The director union is furious: some ratings are below 5 stars!\nLet\'s fix this discretely and remove all the ratings below 5 stars if and if the rater\'s login contains an a (case-insensitive).', e.rank = 18, e.validationQuery = 'MATCH (u:User)-[r:RATED]->(:Movie) WHERE r.stars < 5 RETURN u.login AS login ORDER BY login ASC', e.result = 'AQUBAGphdmEudXRpbC5IYXNoTWHwAQEDAWxvZ2nuAwFkZXX6AQABAQMEAwFsMGuwAQABAQMEAwFtZO8BAAEBAwQDAXNvbmljbmXvAQABAQMEAwF0ZXP0' ON MATCH SET e.instructions = 'The director union is furious: some ratings are below 5 stars!\nLet\'s fix this discretely and remove all the ratings below 5 stars if and if the rater\'s login contains an a (case-insensitive).', e.rank = 18, e.validationQuery = 'MATCH (u:User)-[r:RATED]->(:Movie) WHERE r.stars < 5 RETURN u.login AS login ORDER BY login ASC', e.result = 'AQUBAGphdmEudXRpbC5IYXNoTWHwAQEDAWxvZ2nuAwFkZXX6AQABAQMEAwFsMGuwAQABAQMEAwFtZO8BAAEBAwQDAXNvbmljbmXvAQABAQMEAwF0ZXP0'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'The SEO expert Agnès Iho is asking you to remove all the comments which size is below 15 chars!\nSuch comments must be removed but the ratings must stay!', e.rank = 19, e.validationQuery = 'MATCH (:User)-[r:RATED]->(:Movie) WHERE EXISTS(r.comment) RETURN LENGTH(r.comment) AS comment_length ORDER BY LENGTH(r.comment) ASC', e.result = 'AQkBAGphdmEudXRpbC5IYXNoTWHwAQEDAWNvbW1lbnRfbGVuZ3ToCSIBAAEBAwQJJgEAAQEDBAkmAQABAQMECSgBAAEBAwQJPgEAAQEDBAlAAQABAQMECUIBAAEBAwQJegEAAQEDBAm4AQ==' ON MATCH SET e.instructions = 'The SEO expert Agnès Iho is asking you to remove all the comments which size is below 15 chars!\nSuch comments must be removed but the ratings must stay!', e.rank = 19, e.validationQuery = 'MATCH (:User)-[r:RATED]->(:Movie) WHERE EXISTS(r.comment) RETURN LENGTH(r.comment) AS comment_length ORDER BY LENGTH(r.comment) ASC', e.result = 'AQkBAGphdmEudXRpbC5IYXNoTWHwAQEDAWNvbW1lbnRfbGVuZ3ToCSIBAAEBAwQJJgEAAQEDBAkmAQABAQMECSgBAAEBAwQJPgEAAQEDBAlAAQABAQMECUIBAAEBAwQJegEAAQEDBAm4AQ=='
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'The software architect Walter Falls vous demande d\'implémenter l\'optimisation suivante: instead of computing it every time, please persist the number of comments per movie as a movie attribute. Let\'s call this attribute \'comment_count\'.\nCypher pro-tip: COLLECT should help you!', e.rank = 20, e.validationQuery = 'MATCH (m:Movie) WHERE m.comment_count > 0 RETURN m.title AS movie_title_with_at_least_one_comment', e.result = 'ARIBAGphdmEudXRpbC5IYXNoTWHwAQEDAW1vdmllX3RpdGxlX3dpdGhfYXRfbGVhc3Rfb25lX2NvbW1lbvQDAVRoZSBJdGFsaWFuIEpv4gEAAQEDBAMBQ3Jhc2ggVGVzdCBEdW1taWXzAQABAQMEAwFNb2/uAQABAQMEAwFDb21vIGFndWEgcGFyYSBjaG9jb2xhdOUBAAEBAwQDAUEgV2VkbmVzZGH5AQABAQMEAwFBcG9jYWx5cHNlIE5v9wEAAQEDBAMBVGhlIE1hdHJp+AEAAQEDBAMBQmFjayB0byB0aGUgRnV0dXLlAQABAQMEAwFUaGUgTWF0cml4IFJlbG9hZGXkAQABAQMEAwFUaGUgTWF0cml4IFJldm9sdXRpb27zAQABAQMEAwFUaGUgU2ltcHNvbnMgTW92aeUBAAEBAwQDAUZvcnJlc3QgR3Vt8AEAAQEDBAMBVmVydGln7wEAAQEDBAMBVGVybWluYXRvciBTYWx2YXRpb+4BAAEBAwQDAVdhZyB0aGUgRG/nAQABAQMEAwFNZWV0IHRoZSBGb2NrZXLzAQABAQMEAwFHb25lIHdpdGggdGhlIFdpbuQBAAEBAwQDAUlyb24gTWHu' ON MATCH SET e.instructions = 'The software architect Walter Falls vous demande d\'implémenter l\'optimisation suivante: instead of computing it every time, please persist the number of comments per movie as a movie attribute. Let\'s call this attribute \'comment_count\'.\nCypher pro-tip: COLLECT should help you!', e.rank = 20, e.validationQuery = 'MATCH (m:Movie) WHERE m.comment_count > 0 RETURN m.title AS movie_title_with_at_least_one_comment', e.result = 'ARIBAGphdmEudXRpbC5IYXNoTWHwAQEDAW1vdmllX3RpdGxlX3dpdGhfYXRfbGVhc3Rfb25lX2NvbW1lbvQDAVRoZSBJdGFsaWFuIEpv4gEAAQEDBAMBQ3Jhc2ggVGVzdCBEdW1taWXzAQABAQMEAwFNb2/uAQABAQMEAwFDb21vIGFndWEgcGFyYSBjaG9jb2xhdOUBAAEBAwQDAUEgV2VkbmVzZGH5AQABAQMEAwFBcG9jYWx5cHNlIE5v9wEAAQEDBAMBVGhlIE1hdHJp+AEAAQEDBAMBQmFjayB0byB0aGUgRnV0dXLlAQABAQMEAwFUaGUgTWF0cml4IFJlbG9hZGXkAQABAQMEAwFUaGUgTWF0cml4IFJldm9sdXRpb27zAQABAQMEAwFUaGUgU2ltcHNvbnMgTW92aeUBAAEBAwQDAUZvcnJlc3QgR3Vt8AEAAQEDBAMBVmVydGln7wEAAQEDBAMBVGVybWluYXRvciBTYWx2YXRpb+4BAAEBAwQDAVdhZyB0aGUgRG/nAQABAQMEAwFNZWV0IHRoZSBGb2NrZXLzAQABAQMEAwFHb25lIHdpdGggdGhlIFdpbuQBAAEBAwQDAUlyb24gTWHu'
MERGE (e:Exercise {id: {id}}) ON CREATE SET e.instructions = 'The director union has changed its strategy.\nInstead of removing the ratings below 5 stars like before, let\'s rather flag such bad ratings with a new attribute named \'hidden\' if their rater is an influencer (\'influencer\' means more than 1 friend in that case).', e.rank = 21, e.validationQuery = 'MATCH (u:User)-[r:RATED {hidden: true}]->(m:Movie) RETURN u.login AS login, r.stars AS hidden_review_stars, m.title AS title', e.result = 'AQQBAGphdmEudXRpbC5IYXNoTWHwAQMDAWhpZGRlbl9yZXZpZXdfc3RhcvMJCAMBbG9nae4DAW1haGVzaGtz8AMBdGl0bOUDAU1vb+4BAAEDAwQJCAMFAwFhZGlsZnVsYXLhAwcDAVRoZSBNYXRyafgBAAEDAwQJCAMFAwFhZGlsZnVsYXLhAwcDAU1hZGFnYXNjYXI6IEVzY2FwZSAyIEFmcmlj4QEAAQMDBAkIAwUDAWFkaWxmdWxhcuEDBwMBTWVldCB0aGUgRm9ja2Vy8w==' ON MATCH SET e.instructions = 'The director union has changed its strategy.\nInstead of removing the ratings below 5 stars like before, let\'s rather flag such bad ratings with a new attribute named \'hidden\' if their rater is an influencer (\'influencer\' means more than 1 friend in that case).', e.rank = 21, e.validationQuery = 'MATCH (u:User)-[r:RATED {hidden: true}]->(m:Movie) RETURN u.login AS login, r.stars AS hidden_review_stars, m.title AS title', e.result = 'AQQBAGphdmEudXRpbC5IYXNoTWHwAQMDAWhpZGRlbl9yZXZpZXdfc3RhcvMJCAMBbG9nae4DAW1haGVzaGtz8AMBdGl0bOUDAU1vb+4BAAEDAwQJCAMFAwFhZGlsZnVsYXLhAwcDAVRoZSBNYXRyafgBAAEDAwQJCAMFAwFhZGlsZnVsYXLhAwcDAU1hZGFnYXNjYXI6IEVzY2FwZSAyIEFmcmlj4QEAAQMDBAkIAwUDAWFkaWxmdWxhcuEDBwMBTWVldCB0aGUgRm9ja2Vy8w=='
MATCH (e:Exercise) WHERE EXISTS(e.rank) WITH e ORDER BY e.rank ASC WITH collect(e) AS exercises FOREACH (i IN range(0, length(exercises)-2) | FOREACH (first IN [exercises[i]] | FOREACH (second IN [exercises[i+1]] | MERGE (first)-[:NEXT]->(second) REMOVE first.rank REMOVE second.rank)))
